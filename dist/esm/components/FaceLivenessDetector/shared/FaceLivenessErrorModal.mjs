import e from"react";import{Flex as r,Text as t,Button as s}from"@aws-amplify/ui-react";import{AlertIcon as a}from"@aws-amplify/ui-react/internal";import"../service/machine/index.mjs";import"../service/types/liveness.mjs";import{LivenessErrorState as i}from"../service/types/error.mjs";import"tslib";import"@tensorflow/tfjs-core";import"@tensorflow-models/blazeface";import"@tensorflow/tfjs-backend-wasm";import"@tensorflow/tfjs-backend-cpu";import"@aws-amplify/core";import"../service/utils/liveness.mjs";import"../service/utils/streamProvider.mjs";import"../service/utils/freshnessColorDisplay.mjs";import{Toast as o}from"./Toast.mjs";import{Overlay as m}from"./Overlay.mjs";import{defaultErrorDisplayText as l}from"../displayText.mjs";import{LivenessClassNames as c}from"../types/classNames.mjs";const n=({errorState:s,overrideErrorDisplayText:o})=>{const m=Object.assign(Object.assign({},l),o);return s===i.CAMERA_ACCESS_ERROR||s===i.CAMERA_FRAMERATE_ERROR||s===i.MOBILE_LANDSCAPE_ERROR?null:(s=>{const{error:o,displayText:m}=s,{timeoutHeaderText:l,timeoutMessageText:n,faceDistanceHeaderText:p,faceDistanceMessageText:E,multipleFacesHeaderText:R,multipleFacesMessageText:f,clientHeaderText:T,clientMessageText:d,serverHeaderText:u,serverMessageText:y}=m;let j,x;switch(o){case i.TIMEOUT:j=l,x=n;break;case i.FACE_DISTANCE_ERROR:j=p,x=E;break;case i.MULTIPLE_FACES_ERROR:j=R,x=f;break;case i.RUNTIME_ERROR:j=T,x=d;break;case i.SERVER_ERROR:default:j=u,x=y}return e.createElement(e.Fragment,null,e.createElement(r,{className:c.ErrorModal},e.createElement(a,{ariaHidden:!0,variation:"error"}),e.createElement(t,{className:c.ErrorModalHeading},j)),x)})({error:s,displayText:m})},p=t=>{const{children:a,onRetry:i,displayText:n}=t,p=Object.assign(Object.assign({},l),n),{tryAgainText:E}=p;return e.createElement(m,{className:c.OpaqueOverlay},e.createElement(o,null,a,e.createElement(r,{justifyContent:"center"},e.createElement(s,{variation:"primary",type:"button",onClick:i},E))))};export{p as FaceLivenessErrorModal,n as renderErrorModal};
